<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v24.09 docs-doc-page docs-doc-id-tests" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Running Tests | PcapPlusPlus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcapplusplus.github.io/docs/v24.09/tests"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v24.09"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v24.09"><meta data-rh="true" name="docsearch:version" content="v24.09"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v24.09"><meta data-rh="true" property="og:title" content="Running Tests | PcapPlusPlus"><meta data-rh="true" name="description" content="PcapPlusPlus source code contains a set of test-cases you can run to make sure everything works correctly on your system."><meta data-rh="true" property="og:description" content="PcapPlusPlus source code contains a set of test-cases you can run to make sure everything works correctly on your system."><link data-rh="true" rel="icon" href="/img/logo/logo_icon_large.ico"><link data-rh="true" rel="canonical" href="https://pcapplusplus.github.io/docs/v24.09/tests"><link data-rh="true" rel="alternate" href="https://pcapplusplus.github.io/docs/v24.09/tests" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcapplusplus.github.io/docs/v24.09/tests" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://31QB400Q4J-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-74037205-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="search" type="application/opensearchdescription+xml" title="PcapPlusPlus" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.d4faa30b.css">
<script src="/assets/js/runtime~main.77f2b463.js" defer="defer"></script>
<script src="/assets/js/main.61f378ad.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo/logo_color.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/logo_color.png" alt="PcapPlusPlus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo/logo_color.png" alt="PcapPlusPlus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v24.09/quickstart">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v24.09/features">Features</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v24.09/api">API</a><a class="navbar__item navbar__link" href="/community">Community</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/v24.09/tests">v24.09</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/tests">Next</a></li><li><a class="dropdown__link" href="/docs/tests">v25.05</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v24.09/tests">v24.09</a></li><li><a class="dropdown__link" href="/docs/v23.09/tests">v23.09</a></li><li><a class="dropdown__link" href="/docs/v22.11/tests">v22.11</a></li><li><a class="dropdown__link" href="/docs/v22.05/tests">v22.05</a></li><li><a class="dropdown__link" href="/docs/v21.11/tests">v21.11</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://groups.google.com/d/forum/pcapplusplus-support" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus Google Group">Google Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="mailto:pcapplusplus@gmail.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="Send us an email">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/pcapplusplus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus tag on StackOverflow">StackOverflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/seladb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus on Twitter">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/seladb/PcapPlusPlus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/quickstart">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/v24.09/install">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/features">Feature Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/dpdk">DPDK Support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/v24.09/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/platforms">Supported platforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/examples">Example Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/benchmark">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/v24.09/tests">Running Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v24.09/api">API Reference</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->PcapPlusPlus<!-- --> <b>v24.09</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/tests">latest version</a></b> (<!-- -->v25.05<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running Tests</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v24.09</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running PcapPlusPlus Tests</h1></header>
<!-- -->
<p>PcapPlusPlus source code contains a set of test-cases you can run to make sure everything works correctly on your system.</p>
<p>These test-cases are divided into three separate projects:</p>
<ul>
<li><code>[PCAPPPLUSPLUS_HOME]/Tests/Packet++Test</code> - contains test-cases for the <code>Packet++</code> library</li>
<li><code>[PCAPPPLUSPLUS_HOME]/Tests/Pcap++Test</code> - contains test-cases (mostly) for the <code>Pcap++</code> library</li>
<li><code>[PCAPPPLUSPLUS_HOME]/Tests/ExamplesTest</code> - contains test-cases for PcapPlusPlus examples</li>
</ul>
<p>When you build PcapPlusPlus these projects are also built. The following sections contain information on how to run the test-cases:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="packettest">Packet++Test<a href="#packettest" class="hash-link" aria-label="Direct link to Packet++Test" title="Direct link to Packet++Test">​</a></h2>
<p>This project contains test-cases that mostly test the <code>Packet++</code> library, meaning testing the functionality of parsing and crafting packets of different protocols.</p>
<p>After a successful build you can run these test-cases by following these simple steps:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The steps below are shown on Linux but apply in the same way to all supported platforms</p></div></div>
<ul>
<li>
<p>Go to <code>Packet++Test</code> directory:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus$ </span><span class="token builtin class-name">cd</span><span class="token plain"> Tests/Packet++Test/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Run the tests from this directory. The executable is inside the <code>Bin</code> directory:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$ Bin/Packet++Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 02:36:16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built from: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketPointerCreation      </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthAndArpPacketParsing        </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ArpPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VlanParseAndCreation          </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ipv4PacketCreation            </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Hopefully if all tests pass you&#x27;ll see a message at the end saying <code>ALL TESTS PASSED!!</code> and the number of test-cases that passed, skipped or failed. You&#x27;ll also see next to each test-case whether it has passed or failed.</p>
</li>
<li>
<p>If a test-case failed you&#x27;ll see an appropriate assert message explaining what caused the failure, for example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$ Bin/Packet++Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 02:44:35</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built from: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketPointerCreation      </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthAndArpPacketParsing        </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ArpPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> FAILED </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line: </span><span class="token number" style="color:#36acaa">245</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">. assert equal failed: actual: </span><span class="token number" style="color:#36acaa">42</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> expected: </span><span class="token number" style="color:#36acaa">43</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VlanParseAndCreation          </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ipv4PacketCreation            </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NOT ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">91</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Please note that it&#x27;s very important to run the tests from the <code>Tests/Packet++Test</code> directory (using <code>Bin/Packet++Test</code>) because the test-cases are using packet examples that reside in <a href="https://github.com/seladb/PcapPlusPlus/tree/v24.09/Tests/Packet%2B%2BTest/PacketExamples">Tests/Packet++Test/PacketExamples</a> and are assuming the running directory is <code>Tests/Packet++Test</code></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="some-more-technical-details">Some more technical details<a href="#some-more-technical-details" class="hash-link" aria-label="Direct link to Some more technical details" title="Direct link to Some more technical details">​</a></h3>
<ul>
<li>
<p>The folder structure of <code>Packet++Test</code> is as follows (showing only relevant folders):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|- Bin/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- PacketExamples/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- Tests/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- BgpTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- DhcpTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- DnsTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- Utils/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- main.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- TestDefinition.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The test-cases are gathered under the <code>Tests/</code> folder. Each file in this folder contains a few test-cases which belong to a specific protocol or subject.</p>
<p>The <code>PacketExamples/</code> folder contains packet examples used by the various test-cases.</p>
<p><code>Bin/</code> contains the executable.</p>
<p><code>Utils/</code> contains a few methods commonly used by the test-cases.</p>
<p><code>TestDefinition.h</code> contains a definition of all the test-cases and <code>main.cpp</code> is in charge of parsing command-line arguments and running the tests.</p>
</li>
<li>
<p>Each test-case resides in one of the <code>.cpp</code> files under <code>Packet++Test/Tests/</code> and has the following definition:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">PTF_TEST_CASE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GtpLayerParsingTest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In addition this test needs to be declared in <code>Packet++Test/TestDefinition.h</code>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Implemented in GtpTests.cpp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">PTF_TEST_CASE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GtpLayerParsingTest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>In addition to the functional tests described in each test-case there is also a memory leak test that is being performed for each test-case separately. The <a href="https://github.com/seladb/MemPlumber" target="_blank" rel="noopener noreferrer">MemPlumber</a> library is being used to detect memory leaks. If a memory leak is detected the test-case will fail with an appropriate assert message</p>
</li>
<li>
<p>Each test-case has one or more tags assigned to it. The tags are defined when calling each test-case in <code>Packet++Test/main.cpp</code>. For example: <code>PTF_RUN_TEST(EthPacketCreation, &quot;eth&quot;)</code> has the tag &quot;eth&quot; assigned to it, while <code>PTF_RUN_TEST(SipResponseLayerCreationTest, &quot;sip&quot;)</code> has the &quot;sip&quot; tag assigned to it. In addition there is a default tag assigned to each test-case which is its name. This mechanism allows running specific tests instead of always running all of them. There is a command-line switch <strong><code>-t</code></strong> or <strong><code>--tags</code></strong> which enables running only tests that are assigned to specific tags. You should provide it a list of tags (one or more) separated by a semicolon and surrounded by quotes.</p>
<p>For example, the following command will run only tests that have the &quot;<code>eth</code>&quot; tag assigned to them:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$ Bin/Packet++Test </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eth&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 03:19:34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built from: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketPointerCreation      </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthAndArpPacketParsing        </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthDot3LayerParsingTest       </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthDot3LayerCreateEditTest    </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">87</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As you can see 5 test-cases matched the <code>eth</code> tag and the rest of them (87) were skipped and are not showing on the report.</p>
<p>This command will run only test-cases which have &quot;<code>eth</code>&quot; or &quot;<code>ipv6</code>&quot; tags assigned to them:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$ Bin/Packet++Test </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eth;ipv6&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 03:19:34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built from: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthPacketPointerCreation      </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthAndArpPacketParsing        </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthDot3LayerParsingTest       </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EthDot3LayerCreateEditTest    </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPv6UdpPacketParseAndCreate   </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPv6FragmentationTest         </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPv6ExtensionsTest            </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">84</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command will run only the &quot;<code>ArpPacketCreation</code>&quot; test-case:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Packet++Test$ Bin/Packet++Test </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ArpPacketCreation&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 03:19:34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built from: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ArpPacketCreation             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">91</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Here are all of the command-line switches available for <code>Packet++Test</code>:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-t</code></strong>, <strong><code>--include-tags</code></strong></td><td style="text-align:left">A list of semicolon separated tags for tests to run</td></tr><tr><td style="text-align:left"><strong><code>-x</code></strong>, <strong><code>--exclude-tags</code></strong></td><td style="text-align:left">A list of semicolon separated tags for tests to exclude</td></tr><tr><td style="text-align:left"><strong><code>-w</code></strong>, <strong><code>--show-skipped-tests</code></strong></td><td style="text-align:left">Show tests that are skipped. By default they are hidden in the final report</td></tr><tr><td style="text-align:left"><strong><code>-v</code></strong>, <strong><code>--verbose</code></strong></td><td style="text-align:left">Run in verbose mode which emits more output in several test-cases</td></tr><tr><td style="text-align:left"><strong><code>-m</code></strong>, <strong><code>--mem-verbose</code></strong></td><td style="text-align:left">Output verbose information on all memory allocations and releases done throughout the test-cases. This can be useful to detect memory leaks</td></tr><tr><td style="text-align:left"><strong><code>-s</code></strong>, <strong><code>--skip-mem-leak-check</code></strong></td><td style="text-align:left">Skip memory leak test for all test-cases</td></tr><tr><td style="text-align:left"><strong><code>-h</code></strong>, <strong><code>--help</code></strong></td><td style="text-align:left">Shows a help screen with the available command-line switches</td></tr></tbody></table>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pcaptest">Pcap++Test<a href="#pcaptest" class="hash-link" aria-label="Direct link to Pcap++Test" title="Direct link to Pcap++Test">​</a></h2>
<p>This project contains test-cases that mostly test for the <code>Pcap++</code> library, meaning testing the functionality of capturing and sending network packets, reading and writing to files, DPDK functionality, PF_RING and more. It also contains tests for massive packet parsing, TCP reassembly and IP de/fragmentation.</p>
<p>After a successful build you can run these test-cases by following these simple steps:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The steps below are shown on Linux but apply in the same way to all supported platforms</p></div></div>
<ul>
<li>
<p>Make sure that network traffic is flowing to the device you&#x27;re running the tests on. This is important because some of the test-cases assume incoming packets. There is also an option to run only test-cases that don&#x27;t rely on live traffic using the <code>-n</code> or <code>--no-networking</code> command-line switch</p>
</li>
<li>
<p>Go to <code>Pcap++Test</code> directory:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus$ </span><span class="token builtin class-name">cd</span><span class="token plain"> Tests/Pcap++Test/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Pcap++Test$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Run the tests from this directory. The executable is inside the <code>Bin</code> directory. If you&#x27;re running with live traffic there is a mandatory command-line switch you need to provide &quot;<code>-i</code>&quot; or &quot;<code>--use-ip</code>&quot; which is the IP address of the interface you&#x27;d like the test suite to use for capturing and sending network traffic. Make sure that network traffic is flowing to that interface:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Pcap++Test$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> Bin/Pcap++Test </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.0</span><span class="token plain">.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 02:36:38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Git info: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using ip: </span><span class="token number" style="color:#36acaa">10.0</span><span class="token plain">.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Debug mode: off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestIPAddress                 </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestMacAddress                </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestLRUList                   </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestGeneralUtils              </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestGetMacAddress             </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestPcapFileReadWrite         </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL TESTS PASSED</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test cases: </span><span class="token number" style="color:#36acaa">65</span><span class="token plain">, Passed: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, Failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, Skipped: </span><span class="token number" style="color:#36acaa">15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Notice that on Linux and MacOS you might need to run with <code>sudo</code></p>
</li>
<li>
<p>Hopefully if all test cases pass you&#x27;ll see a message at the end saying <code>ALL TESTS PASSED!!</code> and the number of test-cases that passed, skipped or failed. You’ll also see next to each test-case whether it has passed or failed.</p>
</li>
<li>
<p>If a test-case failed you&#x27;ll see an appropriate assert message explaining what caused the failure, for example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/Pcap++Test$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> Bin/Pcap++Test </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PcapPlusPlus version: </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">official release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Built: MMM DD YYYY 02:36:38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Git info: Git branch </span><span class="token string" style="color:#e3116c">&#x27;master&#x27;</span><span class="token plain">, commit </span><span class="token string" style="color:#e3116c">&#x27;8b2d721fdaaa6af516494d96f032e10264d7bf56&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using ip: </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Debug mode: off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start running tests</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestIPAddress                 </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestLRUList                   </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestPcapFileReadWrite         </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestPcapLiveDeviceList        </span><span class="token builtin class-name">:</span><span class="token plain"> PASSED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TestPcapLiveDeviceListSearch  </span><span class="token builtin class-name">:</span><span class="token plain"> FAILED. assertion failed: Device used </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> this </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.1 doesnt exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Please note that it&#x27;s very important to run the tests from the <code>Tests/Pcap++Test</code> directory (using <code>Bin/Pcap++Test</code>) because the test-cases are using packet examples that reside in <a href="https://github.com/seladb/PcapPlusPlus/tree/v24.09/Tests/Pcap%2B%2BTest/PcapExamples">Tests/Pcap++Test/PcapExamples</a> and are assuming the running directory is <code>Tests/Pcap++Test</code></p>
</li>
<li>
<p>If you&#x27;re building PcapPlusPlus with DPDK there is an additional mandatory command-line parameter which is &quot;<code>-k</code>&quot; or &quot;<code>--dpdk-port</code>&quot; where you need to provide the DPDK port to use for the tests. This port is simply a number starting from 0, so if you have only one interface assigned to DPDK the port number will be 0. If you have two interfaces assigned to DPDK then you can choose either 0 or 1, and so on. Please make sure there is network traffic flowing to this interface</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="some-more-technical-details-1">Some more technical details<a href="#some-more-technical-details-1" class="hash-link" aria-label="Direct link to Some more technical details" title="Direct link to Some more technical details">​</a></h3>
<ul>
<li>
<p>The folder structure of <code>Pcap++Test</code> is as follows (showing only relevant folders):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|- Bin/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- Common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- PcapExamples/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- Tests/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- DpdkTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- FileTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- FilterTests.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- main.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- TestDefinition.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|- ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The test-cases are gathered under the <code>Tests/</code> folder. Each file in this folder contains a few test-cases which belong to a specific subject.</p>
<p>The <code>PcapExamples/</code> folder contains pcap files used by the various test-cases.</p>
<p><code>Bin/</code> contains the executable.</p>
<p><code>Common/</code> contains a few methods commonly used by the test-cases.</p>
<p><code>TestDefinition.h</code> contains a definition of all the test-cases and <code>main.cpp</code> is in charge of parsing command-line arguments and running the tests.</p>
</li>
<li>
<p>Each test-case resides in one of the <code>.cpp</code> files under <code>Pcap++Test/Tests/</code> and has the following definition:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">PTF_TEST_CASE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TestPcapLiveDevice</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In addition this test needs to be declared in <code>Pcap++Test/TestDefinition.h</code>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Implemented in GtpTests.cpp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">PTF_TEST_CASE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TestPcapLiveDevice</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>In addition to the functional tests described in each test-case there is also a memory leak test that is being performed for each test-case separately. The <a href="https://github.com/seladb/MemPlumber" target="_blank" rel="noopener noreferrer">MemPlumber</a> library is being used to detect memory leaks. If a memory leak is detected the test-case will fail with an appropriate assert message</p>
</li>
<li>
<p>There is a tag mechanism which is similar to the one implemented in <code>Packet++Test</code>. Please refer to <a href="#some-more-technical-details">the section</a> to learn more about this functionality</p>
</li>
<li>
<p>Here are all of the command-line switches available for <code>Pcap++Test</code>:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-i</code></strong>, <strong><code>--use-ip</code></strong></td><td style="text-align:left">IP address to use for sending and receiving packets. It&#x27;s a mandatory parameter when running the tests with live network traffic</td></tr><tr><td style="text-align:left"><strong><code>-d</code></strong>, <strong><code>--debug-mode</code></strong></td><td style="text-align:left">Set log level to DEBUG for all test-cases</td></tr><tr><td style="text-align:left"><strong><code>-r</code></strong>, <strong><code>--remote-ip</code></strong></td><td style="text-align:left">IPv4 address of remote machine running rpcapd to test remote capture (currently relevant only for Windows). If not provided then the IPv4 address provided in <code>-i</code> switch will be used</td></tr><tr><td style="text-align:left"><strong><code>-p</code></strong>, <strong><code>--remote-port</code></strong></td><td style="text-align:left">Port of remote machine running rpcapd to test remote capture (currently relevant only for Windows). If not provided the default port is <code>12321</code></td></tr><tr><td style="text-align:left"><strong><code>-k</code></strong>, <strong><code>--dpdk-port</code></strong></td><td style="text-align:left">The DPDK NIC port to use. Required only if compiling with DPDK</td></tr><tr><td style="text-align:left"><strong><code>-a</code></strong>, <strong><code>--kni-ip</code></strong></td><td style="text-align:left">IPv4 address for the KNI device test-cases. Relevant only for Linux systems and if compiling with DPDK and KNI. Must not be the same as any of existing network interfaces in your system. If this parameter is omitted KNI tests will be skipped</td></tr><tr><td style="text-align:left"><strong><code>-n</code></strong>, <strong><code>--no-networking</code></strong></td><td style="text-align:left">Do not run tests that requires networking</td></tr><tr><td style="text-align:left"><strong><code>-t</code></strong>, <strong><code>--include-tags</code></strong></td><td style="text-align:left">A list of semicolon separated tags for tests to run</td></tr><tr><td style="text-align:left"><strong><code>-x</code></strong>, <strong><code>--exclude-tags</code></strong></td><td style="text-align:left">A list of semicolon separated tags for tests to exclude</td></tr><tr><td style="text-align:left"><strong><code>-w</code></strong>, <strong><code>--show-skipped-tests</code></strong></td><td style="text-align:left">Show tests that are skipped. By default they are hidden in the final report</td></tr><tr><td style="text-align:left"><strong><code>-v</code></strong>, <strong><code>--verbose</code></strong></td><td style="text-align:left">Run in verbose mode which emits more output in several test-cases</td></tr><tr><td style="text-align:left"><strong><code>-m</code></strong>, <strong><code>--mem-verbose</code></strong></td><td style="text-align:left">Output verbose information on all memory allocations and releases done throughout the test-cases. This can be useful to detect memory leaks</td></tr><tr><td style="text-align:left"><strong><code>-s</code></strong>, <strong><code>--skip-mem-leak-check</code></strong></td><td style="text-align:left">Skip memory leak test for all test-cases</td></tr><tr><td style="text-align:left"><strong><code>-t</code></strong>, <strong><code>--tags</code></strong></td><td style="text-align:left">Run only test-cases that match specific tags. The tag list should be separated by semicolons and surrounded by apostrophes, for example: <code>Bin/Pcap++Test -t &quot;live_device;pf_ring;TestDpdkDevice&quot;</code></td></tr><tr><td style="text-align:left"><strong><code>-h</code></strong>, <strong><code>--help</code></strong></td><td style="text-align:left">Shows a help screen with the available command-line switches</td></tr></tbody></table>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examplestest">ExamplesTest<a href="#examplestest" class="hash-link" aria-label="Direct link to ExamplesTest" title="Direct link to ExamplesTest">​</a></h2>
<p>This project is quite different and unique from the other two in various ways:</p>
<ul>
<li>It doesn&#x27;t test any parts of the PcapPlusPlus library but rather the <a href="/docs/v24.09/examples">example apps</a> that are provided with the library</li>
<li>It doesn&#x27;t test the apps code but rather runs them as executables and inspects their output (stdout, generated files, etc.)</li>
<li>This project isn&#x27;t written in C++ but rather in Python. The reason is that Python is much more &quot;user-friendly&quot; when it comes to running executables and inspect their output; its file and string manipulation options are much more comprehensive and advanced. You can write very little code and achieve a lot. Python also has great testing frameworks that come out-of-the-box. It is the obvious choice for these kind of tasks</li>
</ul>
<p>Because this project is written in Python it has different requirements and setup/run procedures. First we&#x27;ll go over the requirements, then we&#x27;ll dive into the setup and finally we&#x27;ll show how to run the tests and explore the command-line options available.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h3>
<ul>
<li>This project requires <a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">Python 3.7</a> or newer. It won&#x27;t run on Python 2.7.x</li>
<li>It has dependencies on other Python libraries described in <a href="https://github.com/seladb/PcapPlusPlus/tree/v24.09/Tests/ExamplesTest/requirements.txt"><code>requirements.txt</code></a>. In the next section we&#x27;ll go into the details of how to install them</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h3>
<p>This section describes the steps to get to a working setup:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The steps below are shown on Linux but apply in the same way to all supported platforms</p></div></div>
<ul>
<li>
<p>Make sure you have Python 3.7 or newer. You can check the version using the <code>-V</code> command line option:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~$ python3 </span><span class="token parameter variable" style="color:#36acaa">-V</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Python </span><span class="token number" style="color:#36acaa">3.8</span><span class="token plain">.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Go into the <code>ExamplesTest</code> directory:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~$ </span><span class="token builtin class-name">cd</span><span class="token plain"> PcapPlusPlus/Tests/ExamplesTest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/ExamplesTest$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>If you&#x27;d like to use <a href="https://docs.python.org/3/library/venv.html" target="_blank" rel="noopener noreferrer">venv/virtualenv</a> (which is usually recommended in Python) create the virtual environment and activate it:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/ExamplesTest$ python3 </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">seladb@seladb:~/PcapPlusPlus/Tests/ExamplesTest$ </span><span class="token builtin class-name">source</span><span class="token plain"> venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> seladbseladb:~/PcapPlusPlus/Tests/ExamplesTest$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Install the dependencies described in <a href="https://github.com/seladb/PcapPlusPlus/tree/v24.09/Tests/ExamplesTest/requirements.txt"><code>requirements.txt</code></a>:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> seladb@seladb:~/PcapPlusPlus/Tests/ExamplesTest$ python3 </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> requirements.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Since this test suite simply runs the app executables make sure you have a <a href="/docs/v24.09/install#build-from-source">working build of PcapPlusPlus</a> and that the executables are under <code>[PcapPlusPlus-Home]/Dist/examples</code></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-tests">Running the tests<a href="#running-the-tests" class="hash-link" aria-label="Direct link to Running the tests" title="Direct link to Running the tests">​</a></h3>
<p>Once you have a working setup running the tests is pretty easy:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(venv) seladbseladb:~/PcapPlusPlus/Tests/ExamplesTest$ python3 -m pytest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here is the output you might see:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> session starts </span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">platform linux -- Python </span><span class="token number" style="color:#36acaa">3.8</span><span class="token plain">.2, pytest-5.4.3, py-1.9.0, pluggy-0.13.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rootdir: /home/seladb/PcapPlusPlus/Tests/ExamplesTest, inifile: pytest.ini</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">collected </span><span class="token number" style="color:#36acaa">57</span><span class="token plain"> items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_arping.py ss.s                  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_dnsresolver.py x</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">s             </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_httpanalyzer.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.             </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_ipdefragutil.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_ipfragutil.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.           </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_pcapprinter.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">             </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_pcapsearch.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">63</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_pcapsplitter.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">89</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_sslanalyzer.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">               </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">92</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tests/test_tcpreassembly.py </span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">           </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">52</span><span class="token plain"> passed, </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> skipped, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> xfailed </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain">.06s </span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This output shows how many test-cases passed, how many failed and how many were skipped or <a href="https://docs.pytest.org/en/latest/skipping.html" target="_blank" rel="noopener noreferrer">xfailed</a>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>As you can see currently not all of the example apps are covered. This is because some of them are difficult to test by just running the executable and need a more complex setup. In the future we&#x27;ll consider increasing the coverage</p></div></div>
<p>This project uses <a href="https://docs.pytest.org/" target="_blank" rel="noopener noreferrer">pytest</a> which is one of the most popular test frameworks for Python. It has many features and options that will not be covered in this guide, but here are the options that are most relevant for this project:</p>
<table><thead><tr><th style="text-align:left">Option</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>--use-sudo</code></strong></td><td style="text-align:left">Some of the tests rely on live network traffic and need access to a network interface. On Linux and MacOS this may require <code>sudo</code> privileges. If this flag is set the test-cases will use <code>sudo</code> to run the relevant executables. If <code>sudo</code> is required and this flag is not set these tests may fail</td></tr><tr><td style="text-align:left"><strong><code>--interface [interface-ip]</code></strong></td><td style="text-align:left">Required only for tests who rely on live network traffic and need the network interface IP address to use. If this parameter is not provided these tests will be skipped</td></tr><tr><td style="text-align:left"><strong><code>--gateway [gateway_ip]</code></strong></td><td style="text-align:left">A small set of tests need the default gateway IP address. If this parameter is not provided these tests will be skipped</td></tr><tr><td style="text-align:left"><strong><code>-m [marker]</code></strong></td><td style="text-align:left">pytest has this concept of <a href="https://docs.pytest.org/en/stable/mark.html" target="_blank" rel="noopener noreferrer">markers</a> which is like tagging tests with metadata. This project uses it to tag test-cases by app or those who need/don&#x27;t need network traffic. The markers relevant to this project are described in the next table</td></tr><tr><td style="text-align:left"><strong><code>--markers</code></strong></td><td style="text-align:left">Show a list of all the markers available (not all of them are specific to this project)</td></tr><tr><td style="text-align:left"><strong><code>--help</code></strong></td><td style="text-align:left">Show all of <code>pytest</code> command-line options</td></tr></tbody></table>
<p>Here are the markers that are relevant to this project:</p>
<table><thead><tr><th style="text-align:left">Marker</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-m no_network</code></strong></td><td style="text-align:left">Run only test-cases that don&#x27;t require live network traffic. This is very useful for environments where live traffic is not available or if you prefer to run tests that don&#x27;t interact with the network. The test-cases which require network traffic will be skipped</td></tr><tr><td style="text-align:left"><strong><code>-m pcapprinter</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#pcapprinter">PcapPrinter</a></td></tr><tr><td style="text-align:left"><strong><code>-m ipdefragutil</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#ipdefragutil">IPDefragUtil</a></td></tr><tr><td style="text-align:left"><strong><code>-m ipfragutil</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#ipfragutil">IPFragUtil</a></td></tr><tr><td style="text-align:left"><strong><code>-m dnsresolver</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#dnsresolver">DNSResolver</a></td></tr><tr><td style="text-align:left"><strong><code>-m tcpreassembly</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#tcpreassembly">TcpReassembly</a></td></tr><tr><td style="text-align:left"><strong><code>-m httpanalyzer</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#httpanalyzer">HttpAnalyzer</a></td></tr><tr><td style="text-align:left"><strong><code>-m sslanalyzer</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#sslanalyzer">SSLAnalyzer</a></td></tr><tr><td style="text-align:left"><strong><code>-m pcapsearch</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#pcapsearch">PcapSearch</a></td></tr><tr><td style="text-align:left"><strong><code>-m arping</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#arping">Arping</a></td></tr><tr><td style="text-align:left"><strong><code>-m pcapsplitter</code></strong></td><td style="text-align:left">Run only test-cases for <a href="/docs/v24.09/examples#pcapsplitter">PcapSplitter</a></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/PcapPlusPlus/pcapplusplus.github.io/edit/master/versioned_docs/version-v24.09/tests.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/v24.09/benchmark"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Benchmarks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/v24.09/api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#packettest" class="table-of-contents__link toc-highlight">Packet++Test</a><ul><li><a href="#some-more-technical-details" class="table-of-contents__link toc-highlight">Some more technical details</a></li></ul></li><li><a href="#pcaptest" class="table-of-contents__link toc-highlight">Pcap++Test</a><ul><li><a href="#some-more-technical-details-1" class="table-of-contents__link toc-highlight">Some more technical details</a></li></ul></li><li><a href="#examplestest" class="table-of-contents__link toc-highlight">ExamplesTest</a><ul><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#running-the-tests" class="table-of-contents__link toc-highlight">Running the tests</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/install">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dpdk">DPDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/examples">Example Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api">API Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/seladb/PcapPlusPlus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/seladb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pcapplusplus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://groups.google.com/d/forum/pcapplusplus-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:pcapplusplus@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community#contribute">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/versions">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/benchmark">Benchmarks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features#license">License</a></li><li class="footer__item"><a href="https://github.com/PcapPlusPlus/pcapplusplus.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web-site GitHub Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 seladb. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>