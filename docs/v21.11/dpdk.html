<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v21.11 docs-doc-page docs-doc-id-dpdk" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">DPDK Support | PcapPlusPlus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcapplusplus.github.io/docs/v21.11/dpdk"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v21.11"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v21.11"><meta data-rh="true" name="docsearch:version" content="v21.11"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v21.11"><meta data-rh="true" property="og:title" content="DPDK Support | PcapPlusPlus"><meta data-rh="true" name="description" content="The Data Plane Development Kit (DPDK) is a set of data plane libraries and network interface controller drivers for fast packet processing, currently managed as an open-source project under the Linux Foundation. The DPDK provides a programming framework for x86, ARM, and PowerPC processors and enables faster development of high speed data packet networking applications (taken from Wikipedia)."><meta data-rh="true" property="og:description" content="The Data Plane Development Kit (DPDK) is a set of data plane libraries and network interface controller drivers for fast packet processing, currently managed as an open-source project under the Linux Foundation. The DPDK provides a programming framework for x86, ARM, and PowerPC processors and enables faster development of high speed data packet networking applications (taken from Wikipedia)."><link data-rh="true" rel="icon" href="/img/logo/logo_icon_large.ico"><link data-rh="true" rel="canonical" href="https://pcapplusplus.github.io/docs/v21.11/dpdk"><link data-rh="true" rel="alternate" href="https://pcapplusplus.github.io/docs/v21.11/dpdk" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcapplusplus.github.io/docs/v21.11/dpdk" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://31QB400Q4J-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-74037205-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="search" type="application/opensearchdescription+xml" title="PcapPlusPlus" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5966e090.css">
<script src="/assets/js/runtime~main.c7c88323.js" defer="defer"></script>
<script src="/assets/js/main.4a173bdd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo/logo_color.png"><link rel="preload" as="image" href="/img/logo-dpdk.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/logo_color.png" alt="PcapPlusPlus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo/logo_color.png" alt="PcapPlusPlus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v21.11/quickstart">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v21.11/features">Features</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v21.11/api">API</a><a class="navbar__item navbar__link" href="/community">Community</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/v21.11/dpdk">v21.11</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/dpdk">Next</a></li><li><a class="dropdown__link" href="/docs/dpdk">v24.09</a></li><li><a class="dropdown__link" href="/docs/v23.09/dpdk">v23.09</a></li><li><a class="dropdown__link" href="/docs/v22.11/dpdk">v22.11</a></li><li><a class="dropdown__link" href="/docs/v22.05/dpdk">v22.05</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v21.11/dpdk">v21.11</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://groups.google.com/d/forum/pcapplusplus-support" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus Google Group">Google Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="mailto:pcapplusplus@gmail.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="Send us an email">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/pcapplusplus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus tag on StackOverflow">StackOverflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/seladb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus on Twitter">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/seladb/PcapPlusPlus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="PcapPlusPlus on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/quickstart">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/v21.11/install">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/features">Feature Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/v21.11/dpdk">DPDK Support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/v21.11/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/platforms">Supported platforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/examples">Example Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/benchmark">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/tests">Running Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v21.11/api">API Reference</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->PcapPlusPlus<!-- --> <b>v21.11</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/dpdk">latest version</a></b> (<!-- -->v24.09<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DPDK Support</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v21.11</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DPDK Support</h1></header>
<!-- -->
<p><a href="https://www.dpdk.org/" target="_blank" rel="noopener noreferrer"><img src="/img/logo-dpdk.png" width="400" title="DPDK" alt="DPDK"></a></p>
<p>The Data Plane Development Kit (DPDK) is a set of data plane libraries and network interface controller drivers for fast packet processing, currently managed as an open-source project under the Linux Foundation. The DPDK provides a programming framework for x86, ARM, and PowerPC processors and enables faster development of high speed data packet networking applications (taken from <a href="https://en.wikipedia.org/wiki/Data_Plane_Development_Kit" target="_blank" rel="noopener noreferrer">Wikipedia</a>).</p>
<p>DPDK provides packet processing in line rate using kernel bypass for a large range of network interface cards. Notice that not every NIC supports DPDK as the NIC needs to support the kernel bypass feature. You can read more about DPDK in <a href="https://www.dpdk.org/" target="_blank" rel="noopener noreferrer">DPDK&#x27;s web-site</a> and get a list of supported NICs <a href="http://core.dpdk.org/supported/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>As DPDK API is written in C, PcapPlusPlus wraps its main functionality in easy-to-use C++ wrappers which have minimum impact on performance and packet processing rate. In addition it brings DPDK to the PcapPlusPlus framework and APIs so you can use DPDK together with other PcapPlusPlus features such as packet analysis, etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-does-pcapplusplus-offer-for-dpdk">What does PcapPlusPlus offer for DPDK?<a href="#what-does-pcapplusplus-offer-for-dpdk" class="hash-link" aria-label="Direct link to What does PcapPlusPlus offer for DPDK?" title="Direct link to What does PcapPlusPlus offer for DPDK?">​</a></h2>
<p>PcapPlusPlus tries to cover the main functionality of DPDK and its most important and popular features. Here is what PcapPlusPlus offers for DPDK:</p>
<ul>
<li>Encapsulation of DPDK&#x27;s initialization process - both outside and inside of the application - using simple scripts and methods</li>
<li>A C++ class wrapper for DPDK&#x27;s packet structure (mbuf) which offers the most commonly used functionality</li>
<li>A C++ class wrapper that encapsulates a DPDK-controlled NIC (A.K.A DPDK port) for receiving, processing and sending packets using DPDK as well as an interface to retrieve NIC info, status, etc.</li>
<li>Offload packet capture to multiple worker threads running on different cores + control the load balancing configuration between these workers</li>
<li>Multi RX/TX queue support</li>
<li>Detailed statistics about packets being captured and processed</li>
<li>Seamless integration to other PcapPlusPlus capabilities including: parsing of packets received with DPDK using the various protocol parsers offered in PcapPlusPlus, saving packets to a pcap file, sending crafted/edited packets through a DPDK-controlled interface, packet reassembly, and more.</li>
<li>An easy-to-use C++ wrapper for <a href="https://doc.dpdk.org/guides/prog_guide/kernel_nic_interface.html" target="_blank" rel="noopener noreferrer">DPDK KNI (Kernel NIC Interface)</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-pcapplusplus-with-dpdk">Set up PcapPlusPlus with DPDK<a href="#set-up-pcapplusplus-with-dpdk" class="hash-link" aria-label="Direct link to Set up PcapPlusPlus with DPDK" title="Direct link to Set up PcapPlusPlus with DPDK">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-dpdk-versions">Supported DPDK versions<a href="#supported-dpdk-versions" class="hash-link" aria-label="Direct link to Supported DPDK versions" title="Direct link to Supported DPDK versions">​</a></h3>
<p>The following DPDK versions are currently supported:</p>
<ul>
<li>DPDK 20.11 (LTS)</li>
<li>DPDK 19.11 (LTS)</li>
<li>DPDK 18.11 (LTS)</li>
<li>DPDK 17.11 (LTS) (not regularly tested)</li>
</ul>
<p>Older and newer versions may not work.
The non-LTS versions may also work, but are not regularly tested.</p>
<p>In addition, not all poll-mode drivers (PMDs) were tested, but the majority of them should work. Please report an issue if the PMD you&#x27;re using isn&#x27;t working.</p>
<p>The following operating systems and configurations were tested:</p>
<ul>
<li>Ubuntu 20.04, 18.04 LTS 64bit with kernel version &gt; 3 and gcc version &gt;= 4.8</li>
<li>CentOS 7.1 64bit with kernel 3.x and gcc 4.8.x (not regularly tested)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="download-and-install-dpdk---prior-to-dpdk-2011">Download and install DPDK - prior to DPDK 20.11<a href="#download-and-install-dpdk---prior-to-dpdk-2011" class="hash-link" aria-label="Direct link to Download and install DPDK - prior to DPDK 20.11" title="Direct link to Download and install DPDK - prior to DPDK 20.11">​</a></h3>
<p>Building and installing DPDK is pretty straight-forward and in a nutshell goes like this:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> /dpdk/source/location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> config </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">platform_type_string</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="download-and-install-dpdk---dpdk-2011-forward">Download and install DPDK - DPDK 20.11 forward<a href="#download-and-install-dpdk---dpdk-2011-forward" class="hash-link" aria-label="Direct link to Download and install DPDK - DPDK 20.11 forward" title="Direct link to Download and install DPDK - DPDK 20.11 forward">​</a></h3>
<p>DPDK changed their whole build system in version 20.11 and is now using <code>meson</code> and <code>ninja</code>. The full build instructions can be found <a href="https://doc.dpdk.org/guides-20.11/linux_gsg/build_dpdk.html" target="_blank" rel="noopener noreferrer">here</a>, but here are the important steps in short:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ meson build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ninja</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ninja </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ldconfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is important to build and install DPDK and also run <code>ldconfig</code> as mentioned in the documentation, otherwise PcapPlusPlus won&#x27;t be able to find the DPDK binaries during the link process.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pcapplusplus-configuration-for-dpdk">PcapPlusPlus configuration for DPDK<a href="#pcapplusplus-configuration-for-dpdk" class="hash-link" aria-label="Direct link to PcapPlusPlus configuration for DPDK" title="Direct link to PcapPlusPlus configuration for DPDK">​</a></h3>
<p>Once the DPDK build is completed successfully, run PcapPlusPlus configuration script (<code>configure-linux.sh</code>) to build PcapPlusPlus with DPDK. Please refer to the <a href="/docs/v21.11/install/linux#configuration">configuration instructions</a> to get more details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dpdk-initialization-with-pcapplusplus">DPDK initialization with PcapPlusPlus<a href="#dpdk-initialization-with-pcapplusplus" class="hash-link" aria-label="Direct link to DPDK initialization with PcapPlusPlus" title="Direct link to DPDK initialization with PcapPlusPlus">​</a></h3>
<p>DPDK has two steps of initialization: one that sets up Linux to run DPDK applications and the other at the application level which initializes DPDK data and memory structures. PcapPlusPlus wraps both of them with easy-to-use interfaces. Please see the following two sections to get more information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialization-before-application-is-run">Initialization before application is run<a href="#initialization-before-application-is-run" class="hash-link" aria-label="Direct link to Initialization before application is run" title="Direct link to Initialization before application is run">​</a></h3>
<p>Several Linux configuration steps are needed to run DPDK applications:</p>
<ul>
<li>DPDK uses Linux huge-pages for faster virtual to physical page conversion resulting in better performance. Huge-pages must be set before a DPDK application is run</li>
<li>DPDK uses a designated kernel module for kernel bypass (there are 3 supported options: <code>igb_uio</code>, <code>uio_pci_generic</code>, <code>vfio-pci</code>). This module needs to be loaded into the kernel if not already loaded</li>
<li>One or more NICs should move from Linux control to DPDK control</li>
<li>For DPDK KNI there is one more kernel to be loaded into the kernel (<code>rte_kni.ko</code>)</li>
</ul>
<p>PcapPlusPlus offers a python script that automatically configures all of the above. The script is located in PcapPlusPlus root directory and is named <code>setup_dpdk.py</code>. It is based on the <a href="https://doc.dpdk.org/guides/tools/devbind.html" target="_blank" rel="noopener noreferrer"><code>dpdk-devbind</code> tool that ships with DPDK</a> and extends it with more functionality. The script supports Python 3+.</p>
<p>This script has 3 modes of operation: <code>setup</code> to configure the steps mentioned above, <code>status</code> to view the status of all known network interfaces, and <code>restore</code> to go back to the original Linux configuration.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Note: this script uses another file named <code>setup_dpdk_settings.dat</code> to keep information needed for restoring the Linux configuration. This file is also located in PcapPlusPlus root directory. Please do not remove this file</p></div></div>
<p><strong>Setup</strong> - takes the following parameters:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-g</code></strong>, <strong><code>--huge-pages</code></strong> <strong><code>AMOUNT</code></strong></td><td style="text-align:left">The amount of huge pages to allocate. By default each huge-page size is 2048KB</td></tr><tr><td style="text-align:left"><strong><code>-i</code></strong>, <strong><code>--interface</code></strong> <strong><code>NIC_NAME [NIC_NAME ...]</code></strong></td><td style="text-align:left">A space-separated list of all NICs that should move from Linux to DPDK control. Only these NICs can be used by DPDK, the others will stay under Linux control</td></tr><tr><td style="text-align:left"><strong><code>-m</code></strong>, <strong><code>--dpdk-module</code></strong> <strong><code>{igb_uio,uio_pci_generic,vfio-pci}</code></strong></td><td style="text-align:left">The DPDK module to load. If not specified the default is <code>igb_uio</code>. <strong>NOTE:</strong> in DPDK 20.11 <code>igb_uio</code> was moved outside of the DPDK repo into a <a href="https://git.dpdk.org/dpdk-kmods" target="_blank" rel="noopener noreferrer">separate repo</a> which means it doesn&#x27;t come out of the box and needs to be built separately. However the recommendation is to use either <code>vfio-pci</code> or <code>uio_pci_generic</code> which come as part of most Linux distros. You can read more about it <a href="https://doc.dpdk.org/guides/linux_gsg/linux_drivers.html" target="_blank" rel="noopener noreferrer">here</a></td></tr><tr><td style="text-align:left"><strong><code>-k</code></strong>, <strong><code>--load-kni</code></strong></td><td style="text-align:left">Install the KNI kernel module (not loaded by default)</td></tr><tr><td style="text-align:left"><strong><code>-p</code></strong>, <strong><code>--kni-params</code></strong> <strong><code>KNI_PARAMS</code></strong></td><td style="text-align:left">Optional parameters for installing the KNI kernel module</td></tr><tr><td style="text-align:left"><strong><code>-v</code></strong>, <strong><code>--verbose</code></strong></td><td style="text-align:left">Print more verbose output</td></tr></tbody></table>
<p>If everything goes well the system should be ready to run a DPDK applications and the output should look something like this:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pcapplusplus@ubunu:~/PcapPlusPlus$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> python setup_dpdk.py setup </span><span class="token parameter variable" style="color:#36acaa">-g</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> enp0s3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> up hugepages to </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> loaded kernel module </span><span class="token string" style="color:#e3116c">&#x27;uio&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> loaded DPDK kernel module </span><span class="token string" style="color:#e3116c">&#x27;igb_uio&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> interface </span><span class="token string" style="color:#e3116c">&#x27;enp0s3&#x27;</span><span class="token plain"> down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> bound interface </span><span class="token string" style="color:#e3116c">&#x27;enp0s3&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;0000:00:03.0&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> to </span><span class="token string" style="color:#e3116c">&#x27;igb_uio&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> SETUP COMPLETE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Status</strong> - shows the interfaces under DPDK and Linux control. In the example below one interface is under DPDK control and the other (<code>enp0s8</code>) is under Linux control:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pcapplusplus@ubunu:~/PcapPlusPlus$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> python setup_dpdk.py status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Network devices using DPDK-compatible driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0000:00:03.0 </span><span class="token string" style="color:#e3116c">&#x27;82540EM Gigabit Ethernet Controller 100e&#x27;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">drv</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">igb_uio </span><span class="token assign-left variable" style="color:#36acaa">unused</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">e1000,vfio-pci,uio_pci_generic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Network devices using kernel driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0000:00:08.0 </span><span class="token string" style="color:#e3116c">&#x27;82540EM Gigabit Ethernet Controller 100e&#x27;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">if</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">enp0s8 </span><span class="token assign-left variable" style="color:#36acaa">drv</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">e1000 </span><span class="token assign-left variable" style="color:#36acaa">unused</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">igb_uio,vfio-pci,uio_pci_generic *Active*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Baseband&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Crypto&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Eventdev&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Mempool&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Compress&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No </span><span class="token string" style="color:#e3116c">&#x27;Misc (rawdev)&#x27;</span><span class="token plain"> devices detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command take the following parameters:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-v</code></strong>, <strong><code>--verbose</code></strong></td><td style="text-align:left">Print more verbose output</td></tr></tbody></table>
<p><strong>Restore</strong> - restores the Linux configuration to its previous state before <code>setup_dpdk.py setup</code> was run. Please note that this command uses the <code>setup_dpdk_settings.dat</code> file to identify the previous state. If this file was deleted or moved the restore process will most likely fail. Please also note that a machine restart will probably restore most of this configuration, but this command enables restore without a machine restart.</p>
<p>If everything goes well the output should look something like this:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pcapplusplus@ubunu:~/PcapPlusPlus$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> python setup_dpdk.py restore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> removed hugepages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> bound device </span><span class="token string" style="color:#e3116c">&#x27;0000:00:03.0&#x27;</span><span class="token plain"> back to </span><span class="token string" style="color:#e3116c">&#x27;e1000&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> restored interface </span><span class="token string" style="color:#e3116c">&#x27;enp0s3&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> removed </span><span class="token string" style="color:#e3116c">&#x27;igb_uio&#x27;</span><span class="token plain"> kernel module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> RESTORE COMPLETE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command take the following parameters:</p>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>-v</code></strong>, <strong><code>--verbose</code></strong></td><td style="text-align:left">Print more verbose output</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialization-at-application-startup">Initialization at application startup<a href="#initialization-at-application-startup" class="hash-link" aria-label="Direct link to Initialization at application startup" title="Direct link to Initialization at application startup">​</a></h3>
<p>When using DPDK in your application it should be initialized on application startup. This configuration includes:</p>
<ul>
<li>Verify that huge-pages, kernel module(s) and NICs are all set</li>
<li>Initialize DPDK internal structures and memory, poll-mode drivers etc.</li>
<li>Prepare CPU cores that will be used by the application</li>
<li>Initialize packet memory pool</li>
<li>Configure each NIC controlled by DPDK</li>
</ul>
<p>These steps are wrapped in one static method that should be called once in the application startup:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">DpdkDeviceList</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">initDpdk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If this methods succeeds DPDK is ready to be used in your application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next steps" title="Direct link to Next steps">​</a></h2>
<p>If you&#x27;re curious to learn more, please refer to the following resources:</p>
<!-- -->
<ul>
<li><a href="/docs/v21.11/tutorials/dpdk">DPDK tutorial</a></li>
<li>DPDK example applications: <a href="/docs/v21.11/examples#dpdkexample-filtertraffic">DpdkExample-FilterTraffic</a>, <a href="/docs/v21.11/examples#dpdkbridge">DpdkBridge</a>, <a href="/docs/v21.11/examples#knipong">KniPong</a></li>
<li>DPDK API reference. A good starting points would be <a href="/api-docs/v21.11/_dpdk_device_8h.html#details"><code>DpdkDevice.h</code> file description</a> and <a href="/api-docs/v21.11/classpcpp_1_1_dpdk_device.html#details"><code>DpdkDevice</code> class description</a></li>
<li>You can also find all the unit-tests in the <a href="https://github.com/seladb/PcapPlusPlus/tree/v21.11/Tests/Pcap%2B%2BTest/main.cpp">Pcap++Test</a> project (search for tests that contain &quot;dpdk&quot; or &quot;kni&quot;)</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/PcapPlusPlus/pcapplusplus.github.io/edit/master/versioned_docs/version-v21.11/dpdk.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/v21.11/features"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Feature Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/v21.11/tutorials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-does-pcapplusplus-offer-for-dpdk" class="table-of-contents__link toc-highlight">What does PcapPlusPlus offer for DPDK?</a></li><li><a href="#set-up-pcapplusplus-with-dpdk" class="table-of-contents__link toc-highlight">Set up PcapPlusPlus with DPDK</a><ul><li><a href="#supported-dpdk-versions" class="table-of-contents__link toc-highlight">Supported DPDK versions</a></li><li><a href="#download-and-install-dpdk---prior-to-dpdk-2011" class="table-of-contents__link toc-highlight">Download and install DPDK - prior to DPDK 20.11</a></li><li><a href="#download-and-install-dpdk---dpdk-2011-forward" class="table-of-contents__link toc-highlight">Download and install DPDK - DPDK 20.11 forward</a></li><li><a href="#pcapplusplus-configuration-for-dpdk" class="table-of-contents__link toc-highlight">PcapPlusPlus configuration for DPDK</a></li><li><a href="#dpdk-initialization-with-pcapplusplus" class="table-of-contents__link toc-highlight">DPDK initialization with PcapPlusPlus</a></li><li><a href="#initialization-before-application-is-run" class="table-of-contents__link toc-highlight">Initialization before application is run</a></li><li><a href="#initialization-at-application-startup" class="table-of-contents__link toc-highlight">Initialization at application startup</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/install">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dpdk">DPDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/examples">Example Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api">API Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/seladb/PcapPlusPlus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/seladb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pcapplusplus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://groups.google.com/d/forum/pcapplusplus-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:pcapplusplus@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community#contribute">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/versions">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/benchmark">Benchmarks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features#license">License</a></li><li class="footer__item"><a href="https://github.com/PcapPlusPlus/pcapplusplus.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web-site GitHub Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 seladb. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>