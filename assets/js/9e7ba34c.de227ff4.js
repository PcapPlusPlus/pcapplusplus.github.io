"use strict";(globalThis.webpackChunkpcapplusplus_github_io=globalThis.webpackChunkpcapplusplus_github_io||[]).push([[8029],{1671(e,s,i){i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"install/vs","title":"Build on Windows (VS)","description":"Please visit the supported platforms page to see the Visual Studio versions currently supported in PcapPlusPlus.","source":"@site/versioned_docs/version-v22.05/install/vs.mdx","sourceDirName":"install","slug":"/install/vs","permalink":"/docs/v22.05/install/vs","draft":false,"unlisted":false,"editUrl":"https://github.com/PcapPlusPlus/pcapplusplus.github.io/edit/master/versioned_docs/version-v22.05/install/vs.mdx","tags":[],"version":"v22.05","frontMatter":{"title":"Build on Windows (VS)"},"sidebar":"docs","previous":{"title":"Build on MacOS","permalink":"/docs/v22.05/install/macos"},"next":{"title":"Build on Windows (MinGW)","permalink":"/docs/v22.05/install/mingw"}}');var r=i(4848),t=i(8453);const o={title:"Build on Windows (VS)"},l="Build From Source on Windows - Visual Studio",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Visual Studio project structure",id:"visual-studio-project-structure",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Wizard mode",id:"wizard-mode",level:3},{value:"Command line switches mode",id:"command-line-switches-mode",level:3},{value:"Build the code",id:"build-the-code",level:2},{value:"Running tests",id:"running-tests",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"build-from-source-on-windows---visual-studio",children:"Build From Source on Windows - Visual Studio"})}),"\n",(0,r.jsxs)(s.p,{children:["Please visit the ",(0,r.jsx)(s.a,{href:"../platforms",children:"supported platforms page"})," to see the Visual Studio versions currently supported in PcapPlusPlus."]}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(s.p,{children:"In order to build PcapPlusPlus on Windows with Visual Studio you need the following components:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["A ",(0,r.jsx)(s.a,{href:"../platforms",children:"supported version"})," of Microsoft Visual Studio"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://www.winpcap.org/devel.htm",children:"WinPcap developer's pack"})," ",(0,r.jsx)(s.strong,{children:"OR"})," ",(0,r.jsx)(s.a,{href:"https://nmap.org/npcap/guide/npcap-devguide.html",children:"Npcap SDK"})," - containing the wpcap library PcapPlusPlus is linking with plus relevant ",(0,r.jsx)(s.code,{children:"h"})," files.","\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["WinPcap developer's pack can be downloaded from here: ",(0,r.jsx)(s.a,{href:"https://www.winpcap.org/devel.htm",children:"https://www.winpcap.org/devel.htm"})]}),"\n",(0,r.jsxs)(s.li,{children:["Npcap SDK can be downloaded from here: ",(0,r.jsx)(s.a,{href:"https://nmap.org/npcap/#download",children:"https://nmap.org/npcap/#download"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["pthread-win32 - can be downloaded from here: ",(0,r.jsx)(s.a,{href:"ftp://sourceware.org/pub/pthreads-win32/pthreads-w32-2-9-1-release.zip",children:"ftp://sourceware.org/pub/pthreads-win32/pthreads-w32-2-9-1-release.zip"})]}),"\n",(0,r.jsxs)(s.li,{children:["In many cases you also need to download and install:","\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads",children:"Microsoft Visual C++ Redistributable"})," for your version of Visual Studio"]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.microsoft.com/en-us/download/confirmation.aspx?id=14632",children:"Microsoft Visual C++ 2010 Redistributable"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["OPTIONAL - download ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/zstd/releases/latest",children:"Zstd"})," libraries if you wish to enable ",(0,r.jsx)(s.a,{href:"../features#readingwriting-pcapng-files-with-compression",children:"PCAPNG streaming compression support"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"visual-studio-project-structure",children:"Visual Studio project structure"}),"\n",(0,r.jsx)(s.p,{children:"After configuration is complete there are 3 Visual Studio solutions:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\PcapPlusPlus.sln"})," - contains PcapPlusPlus libraries (",(0,r.jsx)(s.strong,{children:"Common++"}),", ",(0,r.jsx)(s.strong,{children:"Packet++"})," and ",(0,r.jsx)(s.strong,{children:"Pcap++"}),") and unit-tests projects"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\PcapPlusPlus-Examples.sln"})," - contains all PcapPlusPlus examples. Requires ",(0,r.jsx)(s.code,{children:"PcapPlusPlus.sln"})," to be built first"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\Tutorials.sln"})," - contains all PcapPlusPlus tutorial examples. Requires ",(0,r.jsx)(s.code,{children:"PcapPlusPlus.sln"})," to be built first"]}),"\n"]}),"\n",(0,r.jsxs)(s.admonition,{type:"tip",children:[(0,r.jsxs)(s.mdxAdmonitionTitle,{children:["What is ",(0,r.jsx)(s.code,{children:"[vs_version]"}),"?"]}),(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"[vs_version]"})," can be either ",(0,r.jsx)(s.code,{children:"vs2015"}),", ",(0,r.jsx)(s.code,{children:"vs2017"})," or ",(0,r.jsx)(s.code,{children:"vs2019"})," and is determined during the configuration process."]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"PcapPlusPlus Visual Studio solution",src:i(2815).A+"",width:"1044",height:"429"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"PcapPlusPlus Visual Studio example solution",src:i(7721).A+"",width:"1044",height:"429"})}),"\n",(0,r.jsx)(s.p,{children:"All solutions support both 32-bit (x86) and 64-bit (x64) configurations as well as Debug and Release modes. So there are 4 supported modes:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"x86|Debug"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"x86|Release"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"x64|Debug"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"x64|Release"})}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(s.p,{children:["Before opening the solution (",(0,r.jsx)(s.code,{children:".sln"}),") files please run the ",(0,r.jsx)(s.code,{children:"configure-windows-visual-studio.bat"})," batch file from PcapPlusPlus main directory. This script configures the solution and project files according to the selected version of Visual Studio. It also creates a Visual Studio properties file called ",(0,r.jsx)(s.code,{children:"PcapPlusPlusPropertySheet.props"})," that contains paths for 3rd-party libraries being used to build PcapPlusPlus."]}),"\n",(0,r.jsx)(s.p,{children:"Ths script has two modes of operation:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Wizard mode - the script will walk you through the paths and parameters you need to provide"}),"\n",(0,r.jsx)(s.li,{children:"Command line switches mode - all parameters are provided in the script command line"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"wizard-mode",children:"Wizard mode"}),"\n",(0,r.jsx)(s.p,{children:"In wizard mode the script will ask you for the requested version of Visual Studio and the locations of WinPcap developer's pack / Npcap SDK and pthreads-win32. Here is an example:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"C:\\PcapPlusPlus>configure-windows-visual-studio.bat\n\n***********************************************\nPcapPlusPlus Visual Studio configuration script\n***********************************************\n\nChoose Visual Studio version.\n\nCurrently supported options are: vs2015, vs2017 or vs2019: vs2019\n\n\nWinPcap or Npcap SDK is required for compiling PcapPlusPlus.\nFor downloading WinPcap SDK (developer's pack) please go to https://www.winpcap.org/devel.htm\nFor downloading Npcap SDK please go to https://nmap.org/npcap/#download\n\nPlease specify WinPcap/Npcap SDK path: C:\\WpdPack\n\n\npthreads-win32 is required for compiling PcapPlusPlus.\nIf you didn't download it already, please download it from here: ftp://sourceware.org/pub/pthreads-win32/pthreads-w32-2-9-1-release.zip\n\nPlease specify pthreads-win32 path: C:\\pthread-win32\n\nPcapPlusPlus Visual Studio configuration is complete. Files created (or modified): PcapPlusPlusPropertySheet.props, Arping.vcxproj,\nArpSpoofing.vcxproj, Common++.vcxproj, DNSResolver.vcxproj, DnsSpoofing.vcxproj, HttpAnalyzer.vcxproj, IcmpFileTransfer-catcher.vcxproj,\nIcmpFileTransfer-pitcher.vcxproj, IPDefragUtil.vcxproj, IPFragUtil.vcxproj, LightPcapNg.vcxproj, Packet++.vcxproj, Packet++Test.vcxproj,\nPcap++.vcxproj, Pcap++Test.vcxproj, PcapPrinter.vcxproj, PcapSearch.vcxproj, PcapSplitter.vcxproj, SSLAnalyzer.vcxproj, TcpReassembly.vcxproj,\nTutorial-HelloWorld.vcxproj, Tutorial-LiveTraffic.vcxproj, Tutorial-PacketCraftAndEdit.vcxproj, Tutorial-PacketParsing.vcxproj,\nTutorial-PcapFiles.vcxproj\n"})}),"\n",(0,r.jsx)(s.h3,{id:"command-line-switches-mode",children:"Command line switches mode"}),"\n",(0,r.jsxs)(s.p,{children:["In this mode you need to provide the requested Visual Studio version as well as the paths as script params. You can use the ",(0,r.jsx)(s.code,{children:"--help"})," switch to query these switches:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"C:\\PcapPlusPlus>configure-windows-visual-studio.bat --help\n\n***********************************************\nPcapPlusPlus Visual Studio configuration script\n***********************************************\n\n\nHelp documentation for configure-windows-visual-studio.bat\nThis script has 2 modes of operation:\n  1) Without any switches. In this case the script will guide you through using wizards\n  2) With switches, as described below\n\nBasic usage: configure-windows-visual-studio.bat [-h] -v VS_VERSION -p PTHREADS_WIN32_DIR -w PCAP_SDK_DIR\n\nThe following switches are recognized:\n-v|--vs-version      --Set Visual Studio version to configure. Must be one of: vs2015, vs2017, vs2019\n-p|--pthreads-home   --Set pthreads-win32 home directory\n-w|--pcap-sdk        --Set WinPcap/Npcap SDK directory\n-z|--zstd-sdk        --Set ZStd SDK directory\n-h|--help            --Display this help message and exits. No further actions are performed\n"})}),"\n",(0,r.jsx)(s.p,{children:"Here is an example:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"C:\\PcapPlusPlus>configure-windows-visual-studio.bat --vs-version 2019 --pcap-sdk C:\\Npcap-SDK --pthreads-home C:\\pthread-win32\n\n***********************************************\nPcapPlusPlus Visual Studio configuration script\n***********************************************\n\n\nPcapPlusPlus Visual Studio configuration is complete. Files created (or modified): PcapPlusPlusPropertySheet.props, Arping.vcxproj,\nArpSpoofing.vcxproj, Common++.vcxproj, DNSResolver.vcxproj, DnsSpoofing.vcxproj, HttpAnalyzer.vcxproj, IcmpFileTransfer-catcher.vcxproj,\nIcmpFileTransfer-pitcher.vcxproj, IPDefragUtil.vcxproj, IPFragUtil.vcxproj, LightPcapNg.vcxproj, Packet++.vcxproj, Packet++Test.vcxproj,\nPcap++.vcxproj, Pcap++Test.vcxproj, PcapPrinter.vcxproj, PcapSearch.vcxproj, PcapSplitter.vcxproj, SSLAnalyzer.vcxproj, TcpReassembly.vcxproj,\nTutorial-HelloWorld.vcxproj, Tutorial-LiveTraffic.vcxproj, Tutorial-PacketCraftAndEdit.vcxproj, Tutorial-PacketParsing.vcxproj,\nTutorial-PcapFiles.vcxproj\n"})}),"\n",(0,r.jsx)(s.p,{children:"Here are the available switches:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{style:{textAlign:"left"},children:"Option"}),(0,r.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"-v"})})," , ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"--vs-version"})})]}),(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:["Visual Studio version to configure.",(0,r.jsx)("br",{}),"Currently supported versions are: ",(0,r.jsx)(s.code,{children:"vs2015"}),", ",(0,r.jsx)(s.code,{children:"vs2017"}),", ",(0,r.jsx)(s.code,{children:"vs2019"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"-p"})})," , ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"--pthreads-home"})})]}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"pthreads-win32 home directory"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"-w"})})," , ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"--pcap-sdk"})})]}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"Path to WinPcap Developer Pack (WpdPack) OR Npcap SDK"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"-z"})})," , ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"--zstd-sdk"})})]}),(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:["Path to Zstd SDK directory. This is an optional parameter that is required only if using ",(0,r.jsx)(s.a,{href:"../features#readingwriting-pcapng-files-with-compression",children:"Zstd for PCAPNG streaming compression"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"-h"})})," , ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"--help"})})]}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"Display the help message and exit. No further actions are performed"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"build-the-code",children:"Build the code"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Build ",(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\PcapPlusPlus.sln"})," first to get PcapPlusPlus libraries and unit-tests"]}),"\n",(0,r.jsxs)(s.li,{children:["Then you can choose to build ",(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\PcapPlusPlus-Examples.sln"})," to get PcapPlusPlus examples"]}),"\n",(0,r.jsxs)(s.li,{children:["You can also choose to build ",(0,r.jsx)(s.code,{children:"mk\\[vs_version]\\Tutorials.sln"})," to see the tutorial examples"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["You can build these 3 solutions using either Visual Studio IDE or ",(0,r.jsx)(s.code,{children:"MSBuild"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"running-tests",children:"Running tests"}),"\n",(0,r.jsxs)(s.p,{children:["PcapPlusPlus contains a set of test-cases you can run to make sure that everything works correctly on your system. ",(0,r.jsx)(s.a,{href:"../tests",children:"This guide"})," contains detailed instructions on how to run them."]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},7721(e,s,i){i.d(s,{A:()=>n});const n=i.p+"assets/images/vs2015examples-6c945d8dcf4fa05ff68c81ae16579a2f.png"},2815(e,s,i){i.d(s,{A:()=>n});const n=i.p+"assets/images/vs2015pcpp-992766f388ee47f71afe9f8005dd05c2.png"},8453(e,s,i){i.d(s,{R:()=>o,x:()=>l});var n=i(6540);const r={},t=n.createContext(r);function o(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);