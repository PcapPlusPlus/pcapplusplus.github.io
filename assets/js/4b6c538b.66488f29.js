"use strict";(self.webpackChunkpcapplusplus_github_io=self.webpackChunkpcapplusplus_github_io||[]).push([[7434],{5543:(e,t,l)=>{l.r(t),l.d(t,{DNS_LIBPCAP_PPS:()=>C,DNS_LIBPCAP_SEC:()=>S,DNS_LIBTINS_PPS:()=>v,DNS_LIBTINS_SEC:()=>k,DNS_PCAPPLUSPLUS_PPS:()=>T,DNS_PCAPPLUSPLUS_SEC:()=>_,TCP_NO_OPTIONS_LIBPCAP_PPS:()=>P,TCP_NO_OPTIONS_LIBPCAP_SEC:()=>j,TCP_NO_OPTIONS_LIBTINS_PPS:()=>p,TCP_NO_OPTIONS_LIBTINS_SEC:()=>o,TCP_NO_OPTIONS_PCAPPLUSPLUS_PPS:()=>g,TCP_NO_OPTIONS_PCAPPLUSPLUS_SEC:()=>x,TCP_WITH_OPTIONS_LIBPCAP_PPS:()=>y,TCP_WITH_OPTIONS_LIBPCAP_SEC:()=>m,TCP_WITH_OPTIONS_LIBTINS_PPS:()=>b,TCP_WITH_OPTIONS_LIBTINS_SEC:()=>f,TCP_WITH_OPTIONS_PCAPPLUSPLUS_PPS:()=>A,TCP_WITH_OPTIONS_PCAPPLUSPLUS_SEC:()=>u,assets:()=>h,contentTitle:()=>a,default:()=>N,frontMatter:()=>d,metadata:()=>s,toc:()=>I});const s=JSON.parse('{"id":"benchmark","title":"Benchmarks","description":"To evaluate the performance of PcapPlusPlus, we employed two benchmarking methods: comparing it to similar libraries and using Google Benchmark to measure key features. This page presents the results of these tests.","source":"@site/docs/benchmark.mdx","sourceDirName":".","slug":"/benchmark","permalink":"/docs/next/benchmark","draft":false,"unlisted":false,"editUrl":"https://github.com/PcapPlusPlus/pcapplusplus.github.io/edit/master/docs/benchmark.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Benchmarks","sidebar_position":8},"sidebar":"docs","previous":{"title":"Example Apps","permalink":"/docs/next/examples"},"next":{"title":"Running Tests","permalink":"/docs/next/tests"}}');var n=l(4848),i=l(8453),r=l(6978),c=l(5879);const d={title:"Benchmarks",sidebar_position:8},a=void 0,h={},x=.197,o=.209,j=.12,g=2538071,p=2392344,P=4166666,u=.202,f=.241,m=.124,A=2475247,b=2074688,y=4032258,_=.208,k=.263,S=.031,T=2403846,v=1901140,C=16129032,I=[{value:"Testing environment",id:"testing-environment",level:2},{value:"Project Comparison",id:"project-comparison",level:2},{value:"Benchmark #1 - TCP parsing",id:"benchmark-1---tcp-parsing",level:3},{value:"Benchmark #2 - TCP + TCP Options parsing",id:"benchmark-2---tcp--tcp-options-parsing",level:3},{value:"Benchmark #3 - DNS parsing",id:"benchmark-3---dns-parsing",level:3},{value:"Google Benchmark",id:"google-benchmark",level:2}];function B(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["To evaluate the performance of PcapPlusPlus, we employed two benchmarking methods: comparing it to similar libraries and using ",(0,n.jsx)(t.a,{href:"https://github.com/google/benchmark",children:"Google Benchmark"})," to measure key features. This page presents the results of these tests."]}),"\n",(0,n.jsx)(t.h2,{id:"testing-environment",children:"Testing environment"}),"\n",(0,n.jsx)(t.p,{children:"The benchmarks were conducted on the following system configuration:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Linux Ubuntu 22.04 64-bit running inside WSL2"}),"\n",(0,n.jsx)(t.li,{children:"g++ 11.4.0"}),"\n",(0,n.jsx)(t.li,{children:"The host platform is a Windows machine with Intel Core i7-8700 3.2GHz processor and 16GB RAM running Windows 10"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"project-comparison",children:"Project Comparison"}),"\n",(0,n.jsxs)(t.p,{children:["To compare PcapPlusPlus with other C++ libraries, we used ",(0,n.jsx)(t.a,{href:"https://github.com/mfontanini/packet-capture-benchmarks",children:"Matias Fontanini's packet-capture-benchmarks project"}),". This benchmark compares PcapPlusPlus with ",(0,n.jsx)(t.a,{href:"http://libtins.github.io/",children:"libtins"})," and libpcap."]}),"\n",(0,n.jsx)(t.p,{children:"PcapPlusPlus was only compared to similar C/C++ projects, as libraries written in higher-level languages (such as Python or Java) cannot match the performance of native C++ libraries."}),"\n",(0,n.jsx)(t.p,{children:"The following versions were used during the benchmark:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["libpcap-dev ",(0,n.jsx)(t.a,{href:"https://www.tcpdump.org/#old-releases",children:"v1.10.1"})]}),"\n",(0,n.jsxs)(t.li,{children:["PcapPlusPlus ",(0,n.jsx)(t.a,{href:"https://github.com/seladb/PcapPlusPlus/releases/tag/v24.09",children:"v24.09"})]}),"\n",(0,n.jsxs)(t.li,{children:["libtins ",(0,n.jsx)(t.a,{href:"https://github.com/mfontanini/libtins/releases/tag/v4.5",children:"v4.5"})]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"benchmark-1---tcp-parsing",children:"Benchmark #1 - TCP parsing"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Library"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Time taken (seconds)"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Packets per second"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libpcap"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:j})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:P})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"PcapPlusPlus"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:x})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:g})})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libtins"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:o})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:p})})]})]})]}),"\n",(0,n.jsx)(r.A,{data:[["Library","Seconds"],["libpcap",j],["PcapPlusPlus",x],["libtins",o]]}),"\n",(0,n.jsx)(t.h3,{id:"benchmark-2---tcp--tcp-options-parsing",children:"Benchmark #2 - TCP + TCP Options parsing"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Library"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Time taken (seconds)"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Packets per second"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libpcap"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:m})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:y})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"PcapPlusPlus"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:u})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:A})})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libtins"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:f})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:b})})]})]})]}),"\n",(0,n.jsx)(r.A,{data:[["Library","Seconds"],["libpcap",m],["PcapPlusPlus",u],["libtins",f]]}),"\n",(0,n.jsx)(t.h3,{id:"benchmark-3---dns-parsing",children:"Benchmark #3 - DNS parsing"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Library"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Time taken (seconds)"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Packets per second"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libpcap"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:S})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:C})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"PcapPlusPlus"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:_})})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(c.A,{value:T})})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"libtins"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:k})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(c.A,{value:v})})]})]})]}),"\n",(0,n.jsx)(r.A,{data:[["Library","Seconds"],["libpcap",S],["PcapPlusPlus",_],["libtins",k]]}),"\n",(0,n.jsx)(t.h2,{id:"google-benchmark",children:"Google Benchmark"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/google/benchmark",children:"Google Benchmark"})," is a library designed for measuring the performance of C++ applications. We utilized it to evaluate several aspects of PcapPlusPlus.\nThe benchmark code can be found in ",(0,n.jsx)(t.a,{href:"https://github.com/seladb/PcapPlusPlus/blob/master/Examples/PcapPlusPlus-benchmark/benchmark-google.cpp",children:"PcapPlusPlus Examples - Google Benchmark"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"The benchmark covers the following operations:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Reading pcap files (",(0,n.jsx)(t.code,{children:"BM_PcapFileRead"}),")"]}),"\n",(0,n.jsxs)(t.li,{children:["Writing pcap files (",(0,n.jsx)(t.code,{children:"BM_PcapFileWrite"}),")"]}),"\n",(0,n.jsxs)(t.li,{children:["Packet parsing (",(0,n.jsx)(t.code,{children:"BM_PacketCrafting"}),")"]}),"\n",(0,n.jsxs)(t.li,{children:["Packet crafting (",(0,n.jsx)(t.code,{children:"BM_PacketCrafting"}),")"]}),"\n"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Benchmark"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Time"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"CPU"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Iterations"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Bytes Per Second"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Items Per Second"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"BM_PcapFileRead"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"177 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"177 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"3828289"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"2.35172Gi/s"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"5.63843M/s"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"BM_PcapFileWrite"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"79.1 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"79.1 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"9080461"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"650.828Mi/s"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"12.6378M/s"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"BM_PacketParsing"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"352 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"352 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"1994805"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"1.18917Gi/s"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"2.84116M/s"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"BM_PacketCrafting"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"385 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"385 ns"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"1799083"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"143.504Mi/s"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"2.59444M/s"})]})]})]})]})}function N(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(B,{...e})}):B(e)}},5879:(e,t,l)=>{l.d(t,{A:()=>n});l(6540);var s=l(4848);const n=function(e){let{value:t}=e;return(0,s.jsx)(s.Fragment,{children:t})}},6978:(e,t,l)=>{l.d(t,{A:()=>i});l(6540);var s=l(2298),n=l(4848);const i=function(e){let{data:t}=e;return(0,n.jsx)(s.Ay,{height:450,chartType:"ColumnChart",loader:(0,n.jsx)("div",{children:"Loading Chart"}),data:t,options:{title:"Graphic view",chartArea:{left:0},backgroundColor:"transparent"},legendToggle:!0})}}}]);